<!DOCTYPE html>
<html lang="zh-cn">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <meta name="renderer" content="webkit">
    <title>选修信息</title>  
    <link rel="stylesheet" href="css/pintuer.css">
    <link rel="stylesheet" href="css/admin.css">
</head>
<script>
window.addEventListener("load",load,false);
function load(){
  var xmlhttp;
  if (window.XMLHttpRequest)
  {
    // IE7+, Firefox, Chrome, Opera, Safari 浏览器执行代码
    xmlhttp=new XMLHttpRequest();
  }
  xmlhttp.onreadystatechange=function()
  {
    if (xmlhttp.readyState==4 && xmlhttp.status==200)
    {
      document.getElementById("showtable").innerHTML=xmlhttp.responseText;
    }
  }
  var url = "operation.php?type=load&table=elective";
  xmlhttp.open("GET",url,true);
  xmlhttp.send();
}
</script>
<body>
<div class="panel admin-panel margin-top">
  <div class="panel-head" id="add"><strong><span class="icon-pencil-square-o"></span>操作</strong></a></div>
    <table class="table table-hover text-center">
      <tr>
        <th width="5%">行政班课程编号</th>     
          <th>学号</th>
          <th>是否为补修</th>
          <th></th><th></th><th></th>
      </tr>
      <tr>
        <th><input type="number" name="id" id="id" style="text-align:center;width:150px;"/></th>
        <th><input type="number" name="student" id="student" style="text-align:center;width:150px;"/></th>
        <th><input type="text" name="isreselect" id="isreselect" style="text-align:center;width:150px;"/></th>
        <th><a class="button border-yellow" href="javascript:void(0)" onclick="add()"><span class="icon-plus-square-o"></span>添加</a></th>
        <th><a type="button" class="button border-main" href="javascript:void(0)" onclick="update()"><span class="icon-edit"></span>修改</a></th>
        <th><a class="button border-red" href="javascript:void(0)" onclick="return del()"><span class="icon-trash-o"></span> 删除</a></th>
      </tr>
    </table>
</div>
<div class="panel admin-panel">
  <div class="panel-head"><strong class="icon-reorder"> 选修信息表</strong></div>
  <table class="table table-hover text-center">
    <tr>
        <th>行政班课程编号</th>     
        <th>学号</th>  
        <th>是否为补修</th>
    </tr>
  </table>
</div> 
<div class="panel admin-panel">
    <div id="showtable"></div>
<div>
<script>
function add(){
  var id =document.getElementById("id").value;
  var student = document.getElementById("student").value;
  var isreselect = document.getElementById("isreselect").value;
  if(id==""||student==""||isreselect==""){
      alert("所有信息都必须填写!");
  }else{
    var xmlhttp;
  if (window.XMLHttpRequest)
  {
    // IE7+, Firefox, Chrome, Opera, Safari 浏览器执行代码
    xmlhttp=new XMLHttpRequest();
  }
  xmlhttp.onreadystatechange=function()
  {
    if (xmlhttp.readyState==4 && xmlhttp.status==200)
    {
      document.getElementById("showtable").innerHTML=xmlhttp.responseText;
    }
  }
  var url = "operation.php?type=add&table=elective&id="+id+"&student="+student+"&isreselect="+isreselect;
  xmlhttp.open("GET",url,true);
  xmlhttp.send();
  }
}
function update(){
    var id =document.getElementById("id").value;
  var student = document.getElementById("student").value;
  var isreselect = document.getElementById("isreselect").value;
  if(id==""||student==""||isreselect==""){
      alert("所有信息都必须填写!");
  }else{
    var xmlhttp;
  if (window.XMLHttpRequest)
  {
    // IE7+, Firefox, Chrome, Opera, Safari 浏览器执行代码
    xmlhttp=new XMLHttpRequest();
  }
  xmlhttp.onreadystatechange=function()
  {
    if (xmlhttp.readyState==4 && xmlhttp.status==200)
    {
      document.getElementById("showtable").innerHTML=xmlhttp.responseText;
    }
  }
  var url = "operation.php?type=update&table=elective&id="+id+"&student="+student+"&isreselect="+isreselect;
  xmlhttp.open("GET",url,true);
  xmlhttp.send();
  }
}
function del(){
  var id =document.getElementById("id").value;
  var student = document.getElementById("student").value;
  if(id==""||student==""){
    alert("行政班课程编号和学号不能为空!");
  }else{
    var xmlhttp;
  if (window.XMLHttpRequest)
  {
    // IE7+, Firefox, Chrome, Opera, Safari 浏览器执行代码
    xmlhttp=new XMLHttpRequest();
  }
  xmlhttp.onreadystatechange=function()
  {
    if (xmlhttp.readyState==4 && xmlhttp.status==200)
    {
      document.getElementById("showtable").innerHTML=xmlhttp.responseText;
    }
  }
  var url = "operation.php?type=del&table=elective&id="+id+"&student="+student;
  xmlhttp.open("GET",url,true);
  xmlhttp.send();
  }
}
</script>
</body></html>