<!DOCTYPE html>
<html lang="zh-cn">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <meta name="renderer" content="webkit">
    <title>学生信息</title>  
    <link rel="stylesheet" href="css/pintuer.css">
    <link rel="stylesheet" href="css/admin.css">
</head>
<script>
window.addEventListener("load",load,false);
function load(){
  var xmlhttp;
  if (window.XMLHttpRequest)
  {
    // IE7+, Firefox, Chrome, Opera, Safari 浏览器执行代码
    xmlhttp=new XMLHttpRequest();
  }
  xmlhttp.onreadystatechange=function()
  {
    if (xmlhttp.readyState==4 && xmlhttp.status==200)
    {
      document.getElementById("showtable").innerHTML=xmlhttp.responseText;
    }
  }
  var url = "operation.php?type=load&table=teacher";
  xmlhttp.open("GET",url,true);
  xmlhttp.send();
}
</script>
<body>
<div class="panel admin-panel margin-top">
  <div class="panel-head" id="add"><strong><span class="icon-pencil-square-o"></span>操作</strong></a></div>
    <table class="table table-hover text-center">
      <tr>
        <th width="5%">教师编号</th>     
          <th>姓名</th>
          <th>性别</th>
          <th>职称</th>
          <th>学历</th>
          <th>联系电话</th>
          <th>学院</th>
          <th></th>
      </tr>
      <tr>
        <th><input type="number" name="id" id="id" style="text-align:center;width:150px;"/></th>
        <th><input type="text" name="name" id="name" style="text-align:center;width:100%;"/></th>
        <th><input type="text" name="gender" id="gender" style="text-align:center;width:100%;"/></th>
        <th><input type="text" name="professionaltitle" id="professionaltitle" style="text-align:center;width:100%;"/></th>
        <th><input type="text" name="education" id="education" style="text-align:center;width:100%;"/></th>
        <th><input type="number" name="phone" id="phone" style="text-align:center;width:100%;"/></th>
        <th><input type="text" name="college" id="college" style="text-align:center;width:100%;"/></th>
        <th><a class="button border-yellow" href="javascript:void(0)" onclick="add()"><span class="icon-plus-square-o"></span>添加</a>
            <a type="button" class="button border-main" href="javascript:void(0)" onclick="update()"><span class="icon-edit"></span>修改</a>
            <a class="button border-red" href="javascript:void(0)" onclick="return del()"><span class="icon-trash-o"></span> 删除</a></th>
      </tr>
    </table>
</div>
<div class="panel admin-panel">
  <div class="panel-head"><strong class="icon-reorder"> 教师信息表</strong></div>
  <table class="table table-hover text-center">
    <tr>
        <th width:5%>编号</th>     
        <th>姓名</th>  
        <th>性别</th>
        <th>职称</th>
        <th>学历</th>
        <th>电话</th>
        <th>学院</th>
    </tr>
  </table>
</div> 
<div class="panel admin-panel">
    <div id="showtable"></div>
<div>
<script>
function add(){
  var id =document.getElementById("id").value;
  var name = document.getElementById("name").value;
  var gender = document.getElementById("gender").value;
  var professionaltitle = document.getElementById("professionaltitle").value;
  var education = document.getElementById("education").value;
  var phone = document.getElementById("phone").value;
  var college = document.getElementById("college").value;
  if(id==""||name==""||gender==""||professionaltitle==""||phone==""||college==""){
      alert("所有信息都必须填写!");
  }else{
    var xmlhttp;
  if (window.XMLHttpRequest)
  {
    // IE7+, Firefox, Chrome, Opera, Safari 浏览器执行代码
    xmlhttp=new XMLHttpRequest();
  }
  xmlhttp.onreadystatechange=function()
  {
    if (xmlhttp.readyState==4 && xmlhttp.status==200)
    {
      document.getElementById("showtable").innerHTML=xmlhttp.responseText;
    }
  }
  var url = "operation.php?type=add&table=teacher&id="+id+"&name="+name+"&gender="+gender+"&professionaltitle="
            +professionaltitle+"&education="+education+"&phone="+phone+"&college="+college;
  xmlhttp.open("GET",url,true);
  xmlhttp.send();
  }
}
function update(){
  var id =document.getElementById("id").value;
  var name = document.getElementById("name").value;
  var gender = document.getElementById("gender").value;
  var professionaltitle = document.getElementById("professionaltitle").value;
  var education = document.getElementById("education").value;
  var phone = document.getElementById("phone").value;
  var college = document.getElementById("college").value;
  if(id==""||name==""||gender==""||professionaltitle==""||phone==""||college==""){
      alert("所有信息都必须填写!");
  }else{
    var xmlhttp;
  if (window.XMLHttpRequest)
  {
    // IE7+, Firefox, Chrome, Opera, Safari 浏览器执行代码
    xmlhttp=new XMLHttpRequest();
  }
  xmlhttp.onreadystatechange=function()
  {
    if (xmlhttp.readyState==4 && xmlhttp.status==200)
    {
      document.getElementById("showtable").innerHTML=xmlhttp.responseText;
    }
  }
  var url = "operation.php?type=update&table=teacher&id="+id+"&name="+name+"&gender="+gender+"&professionaltitle="
            +professionaltitle+"&education="+education+"&phone="+phone+"&college="+college;
  xmlhttp.open("GET",url,true);
  xmlhttp.send();
  }
}
function del(){
  var id =document.getElementById("id").value;
  if(id==""){
    alert("编号不能为空!");
  }else{
    var xmlhttp;
  if (window.XMLHttpRequest)
  {
    // IE7+, Firefox, Chrome, Opera, Safari 浏览器执行代码
    xmlhttp=new XMLHttpRequest();
  }
  xmlhttp.onreadystatechange=function()
  {
    if (xmlhttp.readyState==4 && xmlhttp.status==200)
    {
      document.getElementById("showtable").innerHTML=xmlhttp.responseText;
    }
  }
  var url = "operation.php?type=del&table=teacher&id="+id;
  xmlhttp.open("GET",url,true);
  xmlhttp.send();
  }
}
</script>
</body></html>